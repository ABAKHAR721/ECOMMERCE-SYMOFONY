{% extends 'base.html.twig' %}

{% block title %}Home{% endblock %}

{% block body %}
 <div class="container">
<div class="card-header d-flex justify-content-between align-items-center">
   
    <h1>ABAKHAR STORE</h1>
    <a href="{{path('app_user_order_list')}}" class="btn btn-warning position-relative">
        my cart
        <!-- <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
            {{ orders|length }}
        </span> -->
    </a >
</div>
<div class="row my-2 w-100">
    <div class="col-md-12">
        <div class="card">
            

            <div class="card-header d-flex justify-content-between align-items-center">
                <h2>Latest Products</h2>
                <button class="btn btn-dark position-relative">
                    Products
                    <span class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
                        {{ products|length }}
                    </span>
                </button>
            </div>
        </div>

        <div class="my-3 d-flex justify-content-between align-items-center">
            <div>
                
                <a href="{{ path('app_home') }}" class="btn btn-sm btn-outline-dark mx-1">
                    All
                </a>

                {% for categorie in categories %}
                    <a href="{{ path('app_Hcategorie', {'id': categorie.id}) }}" class="btn btn-sm btn-outline-dark mx-1">
                        {{ categorie.name }}
                    </a>
                {% endfor %}
               
            </div>
        </div>

        <div class="row">
            {% if products|length %}
                {% for product in products %}
                    <div class="col-md-4">
                        <div class="card mb-3">
                            <div class="card-header">
                                
                                <div class="my-3 d-flex justify-content-between align-items-center">
                                    <p></p>
                                    <a href="{{ path('app_order_client', {'product': product.id}) }}" class="btn btn-sm btn-warning ">
                                        add to cart
                                    </a>
                                </div>
                                
                                
                                {% if product.image %}
                                <a href="{{ path('app_hproduit', {'id': product.id}) }}">
                                    <img class="card-img-top img-fluid" src="{{ asset('productimg/' ~ product.image) }}" alt="Product Image">
                                </a>
                                
                                {% else %}
                                <a href="{{ path('app_hproduit', {'id': product.id}) }}">
                                    <img class="card-img-top img-fluid" src="{{ asset('productimg/imgdefautt.png') }}" alt="Product Image">
                                </a>
                                {% endif %}
                            </div>
                            <div class="card-body">
                                
                                <div class="container d-flex justify-content-between">
                                <h5 class="card-title">
                                    <a class="text-decoration-none text-dark" href="{{ path('app_hproduit', {'id': product.id}) }}">
                                    {{ product.name }}</a>
                                </h5>
                                {% for categorie in categories %}
                                {% if categorie.id ==product.cat.id %}
                                <a href="{{ path('app_Hcategorie', {'id': categorie.id}) }}" class="btn btn-sm btn-outline-dark mx-1">
                                {{ categorie.name }}
                                </a>
                                 {% endif %}
                                 {% endfor %}
                                </div>

                                <p class="card-text">{{ product.description }}</p>
                                <div class="container d-flex justify-content-between">
                                    <h5>
                                        <button class="btn btn-success position-relative">
                                        <span class="text">Price:{{ product.price }} Dh</span>
                                        </button>
                                    </h5>
                                    <h5>
                                        <button class="btn btn-warning position-relative">
                                            <span class="text">
                                                {% if product.cat.name == "vegetable" or product.cat.name == "Fruit" %}
                                                    Quantity: {{ product.quantity }} kg
                                                {% else %}
                                                    Quantity: {{ product.quantity }} piece
                                                {% endif %}
                                            </span>
                                        </button>
                                    </h5>
                                    
                                </div>
                            </div>
                        </div>
                    </div>
                {% endfor %}
            {% else %}
                <div class="alert alert-info">NO Products</div>
            {% endif %}
        </div>
    </div>
</div>


<footer class="footer mt-auto py-3 bg-dark text-light ">
    <div class="container">
        <div class="row">
            <div class="col-md-6">
                <h5>Contact Information</h5>
                <p><i class="fas fa-envelope"></i> Email: <a  class="text-decoration-none" href="mailto:abdessamad.abkhar22@gmail.com"> abdessamad.abkhar22@gmail.com</a></p>
                <p><i class="fas fa-phone"></i> Phone: <a  class="text-decoration-none" href="tel:+212609645722">+212609645722</a></p>
                <p><i class="fas fa-map-marker-alt"></i> Address: CASABLANCA, SIDIMOUMEN, LGROUNE</p>
            </div>
            <div class="col-md-6">
                <h5>Follow Us</h5>
                <a target="_Blank" href="https://www.facebook.com/abdo.eagle.75"><i class="fab fa-facebook fa-lg text-light mx-1"></i></a>
                <a href="https://www.instagram.com/abdessamad_abakhar/"><i class="fab fa-instagram fa-lg text-light mx-1"></i></a>
                <a  href="tel:+212609645722"><i class="fab fa-whatsapp fa-lg text-light mx-1"></i></a>
                
            </div>
        </div>
        <hr class="bg-light">
        <p class="text-light">Created By: ABAKHAR ABDESSAMAD</p>
        <p class="text-light">&copy; 2024 AbakharStore. All rights reserved.</p>
    </div>
</footer>
</div>
<script src="https://kit.fontawesome.com/2c68a7a0e8.js" crossorigin="anonymous"></script>
{% endblock %}
